if(typeof(progress)=="function"){progress("jet.all.js loaded")}(function(){var j="1.0",f="JxMark",b=this,c,a=b.Jx,d={},k={},l={NO_DEBUG:0,SHOW_ALL:1},h={debug:1},g=function(n,e,m){n=String(n);if(h.debug){if(this.console){if(this.console.out){this.console.out(n,e,m)}else{alert(n+" - 消息类型["+m+"]")}}}return n};try{if(typeof a==="undefined"||(a.mark&&a.mark===f)){if(a){d=a.VERSIONS;k=a.PACKAGES}a=function(m,o){var n=this;if(o){this._init()}else{if(m){m=String(m);try{if(a.VERSIONS[m]){n=a.VERSIONS[m]}else{n=a.VERSIONS[a.DEFAULT_VERSION];throw new Error("没有找到 JET version "+m+", 所以返回默认版本 JET version "+a.DEFAULT_VERSION+"!")}}catch(p){n.out("A.错误：["+p.name+"] "+p.message+", "+p.fileName+", 行号:"+p.lineNumber+"; stack:"+typeof p.stack,2)}}else{n=a.VERSIONS[a.DEFAULT_VERSION]}}return n};a.prototype={version:j,DEBUG:l,option:h,_init:function(){this.constructor=a},$namespace:function(e){var n,m,p=e.split("."),o=window;for(n=0;n<p.length;n=n+1){m=p[n];o[m]=o[m]||{};o=o[p[n]]}return o},$package:function(){var e=arguments[0],o=arguments[arguments.length-1],n=b,m;if(typeof o==="function"){if(typeof e==="string"){n=this.$namespace(e);if(a.PACKAGES[e]){}else{a.PACKAGES[e]={isLoaded:true,returnValue:m}}n.packageName=e}else{if(typeof e==="object"){n=e}}m=o.call(n,this)}else{throw new Error("Function required")}},checkPackage:function(e){return a.PACKAGES[e]},out:g,debug:function(){},profile:function(){},warn:function(){},error:function(){},startTime:+new Date(),about:function(){return this.out("JET (Javascript Extend Tools)\nversion: "+this.version+"\n\nCopyright (c) 2009, All rights reserved.")},toString:function(){return"JET version "+this.version+" !"}};a.VERSIONS=d;a.PACKAGES=k;a.VERSIONS[j]=new a(j,true);a.DEFAULT_VERSION=j;a.mark=f;b.Jet=b.Jx=a}else{throw new Error('"Jx" name is defined in other javascript code !!!')}}catch(i){g("JET 微内核初始化失败! B.错误：["+i.name+"] "+i.message+", "+i.fileName+", 行号:"+i.lineNumber+"; stack:"+typeof i.stack,1)}})();Jx().$package(function(m){var g,s,r,q,n,o,p,l,c,i,z,u,h,j,a,x,y,f,k,e,d,b,A,w,v;g=function(B){return typeof(B)==="undefined"};s=function(B){return B===null};r=function(B){return(B===0||B)&&B.constructor===Number};n=function(B){return(B===false||B)&&(B.constructor===Boolean)};q=function(B){return(B===""||B)&&(B.constructor===String)};o=function(B){return(B&&(B.constructor===Object))||(String(B)==="[object Object]")};p=function(B){return(B&&(B.constructor===Array))||(Object.prototype.toString.call(B)==="[object Array]")};l=function(B){return B&&B.callee&&r(B.length)?true:false};c=function(B){return B&&(B.constructor===Function)};i=function(B){if(g(B)){return"undefined"}else{if(s(B)){return"null"}else{if(r(B)){return"number"}else{if(n(B)){return"boolean"}else{if(q(B)){return"string"}else{if(o(B)){return"object"}else{if(p(B)){return"array"}else{if(l(B)){return"arguments"}else{if(c(B)){return"function"}else{return"other"}}}}}}}}}};j=function(){return true};a=function(C,B){return Math.floor(Math.random()*(B-C+1)+C)};y=function(C){var B=function(){};B.prototype=C;return(new B())};z=function(B){return m.isFunction(B)?B:function(){return B}};u=function(){var D,C=arguments.length,B;for(D=0;D<C;D++){try{B=arguments[D]();break}catch(E){m.out("C.错误：["+E.name+"] "+E.message+", "+E.fileName+", 行号:"+E.lineNumber+"; stack:"+typeof E.stack,2)}}return B};x=function(J,E,D){var H=arguments,G,C,J,I;if(H.length===1){J=this;G=0}else{J=H[0]||{};G=1}for(;G<arguments.length;G++){I=arguments[G];for(C in I){var B=J[C],F=I[C];if(B===F){continue}if(F&&o(F)&&!F.nodeType&&!c(F)){B=J[C]||{};J[C]=x(B,F||(F.length!=null?[]:{}))}else{if(F!==undefined){J[C]=F}}}}return J};f=function(){return +new Date};k=function(C,G,F,E,H){var B=C.concat(),D=25;if(E){B=C}window.setTimeout(function(){var I=+new Date();do{G.call(F,B.shift())}while(B.length>0&&(+new Date()-I<50));if(B.length>0){window.setTimeout(arguments.callee,D)}else{if(H){H(C)}}},D)};e=function(D){var C,B=0;for(C in D){if(D.hasOwnProperty(C)){B++}}return B};h=function(){};d=function(C,B){B=B||{};C.$$rebuildedFunc=C.$$rebuildedFunc||function(){var G=this,E,D,F;E=B.contextObj||G;D=Array.prototype.slice.call(arguments,0);if(D!==undefined){D=D.concat(B.arguments)}if(B.event===false){D=D.slice(1)}return C.apply(E,D)};return C.$$rebuildedFunc};b=function(C,E){var D=Array.prototype.slice;var B=D.call(arguments,1);return function(){var F=this;return C.apply(F,B.concat(D.call(arguments)))}};A=function(D,C,F){var E=Array.prototype.slice;var B=E.call(arguments,2);return function(){return D.apply(C,B.concat(E.call(arguments)))}};v=function(){var E=arguments.length;var D=arguments[E-1];D.init=D.init||function(){};if(E===2){var C=arguments[0].extend;var B=function(){};B.prototype=C.prototype;var F=function(){this.init.apply(this,arguments)};F.superClass=C.prototype;F.callSuper=function(I,J){var K=Array.prototype.slice;var H=K.call(arguments,2);var J=F.superClass[J];if(J){J.apply(I,H.concat(K.call(arguments)))}};F.prototype=new B();F.prototype.constructor=F;m.extend(F.prototype,D);F.prototype.init=function(){D.init.apply(this,arguments)};return F}else{if(E===1){var G=function(){return this.init.apply(this,arguments)};G.prototype=D;return G}}};var t=new v({init:function(C,G,F,E,H){var B=C.concat(),D=25;if(E){B=C}this.timeout;this.timeout=window.setTimeout(function(){var I=+new Date();do{G.call(F,B.shift())}while(B.length>0&&(+new Date()-I<50));if(B.length>0){this.timeout=window.setTimeout(arguments.callee,D)}else{if(H){H(C)}}},D)},stop:function(){clearTimeout(this.timeout)}});m.isUndefined=g;m.isNull=s;m.isNumber=r;m.isString=q;m.isBoolean=n;m.isObject=o;m.isArray=p;m.isArguments=l;m.isFunction=c;m.$typeof=i;m.$return=z;m.$try=u;m.emptyFunc=h;m.clone=y;m.getLength=e;m.checkJSON=j;m.random=a;m.extend=x;m.now=f;m.timedChunk=k;m.rebuild=d;m.pass=b;m.bind=A;m.bindNoEvent=w;m.Class=v;m.Chunk=t});Jx().$package(function(k){k.browserOptions={adjustBehaviors:true,htmlClass:true};k.host=window.location.host;var h=navigator.platform.toLowerCase(),b=navigator.userAgent.toLowerCase(),c=navigator.plugins,d,g,i,f,l;f=function(m,n){m=(""+m).replace(/_/g,".");n=n||1;m=String(m).split(".");m=m[0]+"."+(m[1]||"0");m=Number(m).toFixed(n);return m};d={getPlatform:function(){return h},name:(window.orientation!=undefined)?"iPod":(h.match(/mac|win|linux/i)||["unknown"])[0],version:0,iPod:0,iPad:0,iPhone:0,android:0,win:0,linux:0,mac:0,set:function(n,m){this.name=n;this.version=m;this[n]=m}};d[d.name]=true;(l=b.match(/windows ([\d.]+)/))?d.set("win",f(l[1])):(l=b.match(/windows nt ([\d.]+)/))?d.set("win",f(l[1])):(l=b.match(/linux ([\d.]+)/))?d.set("linux",f(l[1])):(l=b.match(/mac ([\d.]+)/))?d.set("mac",f(l[1])):(l=b.match(/ipod ([\d.]+)/))?d.set("iPod",f(l[1])):(l=b.match(/ipad[\D]*os ([\d_]+)/))?d.set("iPad",f(l[1])):(l=b.match(/iphone ([\d.]+)/))?d.set("iPhone",f(l[1])):(l=b.match(/android ([\d.]+)/))?d.set("android",f(l[1])):0;g={features:{xpath:!!(document.evaluate),air:!!(window.runtime),query:!!(document.querySelector)},getPlugins:function(){return c},plugins:{flash:(function(){var m=0;if(c&&c.length){flash=c["Shockwave Flash"];if(flash&&flash.description){m=f(flash.description.match(/\b(\d+)\.\d+\b/)[1],1)||m}}else{var n=13;while(n--){try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+n);m=f(n);break}catch(o){}}}return m})()},getUserAgent:function(){return b},name:"unknown",version:0,ie:0,firefox:0,chrome:0,opera:0,safari:0,mobileSafari:0,adobeAir:0,set:function(n,m){this.name=n;this.version=m;this[n]=m}};(l=b.match(/msie ([\d.]+)/))?g.set("ie",f(l[1])):(l=b.match(/firefox\/([\d.]+)/))?g.set("firefox",f(l[1])):(l=b.match(/chrome\/([\d.]+)/))?g.set("chrome",f(l[1])):(l=b.match(/opera.([\d.]+)/))?g.set("opera",f(l[1])):(l=b.match(/adobeair\/([\d.]+)/))?g.set("adobeAir",f(l[1])):(l=b.match(/version\/([\d.]+).*safari/))?g.set("safari",f(l[1])):0;(l=b.match(/version\/([\d.]+).*mobile.*safari/))?g.set("mobileSafari",f(l[1])):0;if(d.iPad){g.set("mobileSafari","0.0")}if(g.ie){if(!document.documentMode){document.documentMode=Math.floor(g.ie)}else{if(document.documentMode!==Math.floor(g.ie)){g.set("ie",f(document.documentMode))}}}i={name:"unknown",version:0,trident:0,gecko:0,webkit:0,presto:0,set:function(n,m){this.name=n;this.version=m;this[n]=m}};(l=b.match(/trident\/([\d.]+)/))?i.set("trident",f(l[1])):(l=b.match(/gecko\/([\d.]+)/))?i.set("gecko",f(l[1])):(l=b.match(/applewebkit\/([\d.]+)/))?i.set("webkit",f(l[1])):(l=b.match(/presto\/([\d.]+)/))?i.set("presto",f(l[1])):0;if(g.ie){if(g.ie==6){i.set("trident",f("4"))}else{if(g.ie==7||g.ie==8){i.set("trident",f("5"))}}}var e=function(){if(g.ie&&g.ie<7){try{document.execCommand("BackgroundImageCache",false,true)}catch(m){}}};if(k.browserOptions.adjustBehaviors){e()}var a=function(m){return String(m).replace(/\./gi,"_")};var j=function(){var m=document.documentElement;var n=[m.className];n.push("javascriptEnabled");n.push(d.name);n.push(d.name+a(d.version));n.push(g.name);n.push(g.name+a(g.version));if(document.documentMode){n.push("documentMode_"+document.documentMode)}n.push(i.name);n.push(i.name+a(i.version));if(g.plugins.flash){n.push("flash");n.push("flash"+a(g.plugins.flash))}m.className=n.join(" ")};if(k.browserOptions.htmlClass){j()}k.platform=d;k.browser=g;k.browser.engine=i});Jx().$package(function(p){var G,H,N,x,z,c,t,I,j,o,V,D,y,f,W,P,U,B,ac,b,O,v,e,X,l,u,E,M,ad,C,d,a,F,T,n,aa,s,k,h,ab,K,A,m,R,ae,q=null,L,S,Z,Q;p.dom=p.dom||{};G=p.dom;H=p.browser;S=(G.win)?(G.win.contentWindow):G.win||window;G.win=S;G.doc=S.document;Z=function(){if(Q){return Q}if(document.compatMode==="CSS1Compat"){Q=document.documentElement}else{Q=document.body}return Q};ae=function(i){if(i){i=i||window.document;q=(i.nodeType===9)?i:i.ownerDocument||G.doc;return q}else{if(q){return q}else{i=i||window.document;q=(i.nodeType===9)?i:i.ownerDocument||G.doc;return q}}};L=function(i){var w=ae(i);return(i.document)?i:w.defaultView||w.parentWindow||G.win};N=function(w,i){return ae(i).getElementById(w)};x=function(i,J){var w=J;return ae(J).getElementsByName(i)};z=function(i,w){var w=w||ae();return w.getElementsByTagName(i)};c=function(i){var w=i?i[TEXT_CONTENT]:"";if(w===UNDEFINED&&INNER_TEXT in i){w=i[INNER_TEXT]}return w||""};t=function(ag,J,w){var ah=false;var af=J;var i;do{i=af.getAttribute(ag);if(p.isUndefined(i)||p.isNull(i)){if(af===w){ah=true}else{af=af.parentNode}}else{ah=true}}while(!ah);return i};I=function(ag,af,ai){var ah,J=ai||G.win,aj=document,ak=aj.createElement(ag);var i={"class":function(){ak.className=af["class"]},style:function(){B(ak,af.style)}};for(ah in af){if(i[ah]){i[ah]()}else{ak.setAttribute(ah,af[ah])}}return ak};l=function(w){var i;if(w){i=w.scrollHeight}else{i=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)}return i||0};u=function(w){var i;if(w){i=w.scrollWidth}else{i=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth)}return i||0};E=function(i){i=i||Z();return i.clientHeight};M=function(i){i=i||Z();return i.clientWidth};ad=function(w){var i=p.browser.engine.name;w=w||Z();return w.offsetHeight};C=function(w){var i=p.browser.engine.name;w=w||Z();return w.offsetWidth};d=function(i){var w;if(i){w=i.scrollLeft}else{w=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft)}return w||0};a=function(i){var w;if(i){w=i.scrollTop}else{w=Math.max(document.documentElement.scrollTop,document.body.scrollTop)}return w||0};j=function(w,i){w.className=i};o=function(i){return i.className};V=function(J,w){var i=new RegExp("(^|\\s)"+w+"(\\s|$)");return i.test(J.className)};D=function(w,i){if(!V(w,i)){w.className=w.className+" "+i}};y=function(w,i){w.className=w.className.replace(new RegExp("(^|\\s)"+i+"(?:\\s|$)"),"$1")};f=function(w,i){return V(w,i)?y(w,i):D(w,i)};W=function(J,w,i){y(J,w);D(J,i)};P=function(af,J,ag){if(!af){return}var w=p.browser.name;if(J==="float"||J==="cssFloat"){if(w==="ie"){J="styleFloat"}else{J="cssFloat"}}if(J==="opacity"&&w==="ie"&&p.browser.ie<9){var i=ag*100;af.style.filter='alpha(opacity="'+i+'")';if(!af.style.zoom){af.style.zoom=1}return}af.style[J]=ag};U=function(ah,af){if(!ah){return}var ai=L(ah);var J=p.browser.name;if(af==="float"||af==="cssFloat"){if(J==="ie"){af="styleFloat"}else{af="cssFloat"}}if(af==="opacity"&&J==="ie"&&p.browser.ie<9){var w=1,i=ah.style.filter.match(/opacity=(\d+)/);if(i&&i[1]){w=i[1]/100}return w}if(ah.style[af]){return ah.style[af]}else{if(ah.currentStyle){return ah.currentStyle[af]}else{if(ai.getComputedStyle){return ai.getComputedStyle(ah,null)[af]}else{if(document.defaultView&&document.defaultView.getComputedStyle){af=af.replace(/([/A-Z])/g,"-$1");af=af.toLowerCase();var ag=document.defaultView.getComputedStyle(ah,"");return ag&&ag.getPropertyValue(af)}}}}};b=function(w,i){w.style.cssText+=";"+i};B=function(w,i){w.style.cssText=i};ac=function(i){return i.style.cssText};O=function(J,i){var af;var w=J.getAttribute("_oldDisplay");if(w){af=w}else{af=U(J,"display")}if(i){P(J,"display",i)}else{if(af==="none"){P(J,"display","block")}else{P(J,"display",af)}}};v=function(i){var w=U(i,"display");if(w==="none"){return false}else{return true}};e=function(w){var J;var i=w.getAttribute("_oldDisplay");if(i){J=i}else{J=U(w,"display")}if(J==="none"){P(w,"display","")}else{P(w,"display",J)}};X=function(w){var J=U(w,"display");var i=w.getAttribute("_oldDisplay");if(!i){if(J==="none"){w.setAttribute("_oldDisplay","")}else{w.setAttribute("_oldDisplay",J)}}P(w,"display","none")};F=function(ag){var ai=0,af=0;if(ag){if(document.documentElement.getBoundingClientRect&&ag.getBoundingClientRect){var ah={left:0,top:0,right:0,bottom:0};try{ah=ag.getBoundingClientRect()}catch(J){return[0,0]}var w=ag.ownerDocument;var i=p.browser.ie?2:0;ai=ah.top-i+a(w);af=ah.left-i+d(w)}else{while(ag.offsetParent){ai+=ag.offsetTop;af+=ag.offsetLeft;ag=ag.offsetParent}}}return[af,ai]};T=function(w,i,J){i=parseInt(i)+d();J=parseInt(J)+a();aa(w,i,J)};n=function(i){var w=F(i);w[0]=w[0]+d();w[1]=w[1]+a();return w};aa=function(J,i,ag){var w=parseInt(U(J,"marginLeft"))||0;var af=parseInt(U(J,"marginTop"))||0;P(J,"left",parseInt(i)-w+"px");P(J,"top",parseInt(ag)-af+"px")};s=function(J,i){var ag=n(J);var w=n(i);var af=[];af[0]=ag[0]-w[0];af[1]=ag[1]-w[1];return af};var g=function(i){if(!i||i=="auto"){return 0}else{return parseInt(i.substr(0,i.length-2))}};k=function(i){return g(G.getStyle(i,"left"))};h=function(i){return g(G.getStyle(i,"top"))};ab=function(i){return g(G.getStyle(i,"width"))};K=function(i){return g(G.getStyle(i,"height"))};m=function(w){w=w||window;var i=w.document;if(w.getSelection){return w.getSelection().toString()}else{if(i.getSelection){return i.getSelection()}else{if(i.selection){return i.selection.createRange().text}}}};R=function(w){if(w.selectionStart!=undefined&&w.selectionEnd!=undefined){var J=w.selectionStart;var i=w.selectionEnd;return w.value.substring(J,i)}else{return""}};var r=z("script");for(var Y=0;Y<r.length;Y++){if(r[Y].getAttribute("hasJx")=="true"){p.src=r[Y].src}}if(!p.src){p.src=r[r.length-1].src}p.filename=p.src.replace(/(.*\/){0,}([^\\]+).*/ig,"$2");p.path=p.src.split(p.filename)[0];G.getDoc=ae;G.id=N;G.name=x;G.tagName=z;G.getText=c;G.getAttributeByParent=t;G.node=I;G.setClass=j;G.getClass=o;G.hasClass=V;G.addClass=D;G.removeClass=y;G.toggleClass=f;G.replaceClass=W;G.setStyle=P;G.getStyle=U;G.setCssText=B;G.getCssText=ac;G.addCssText=b;G.show=O;G.isShow=v;G.recover=e;G.hide=X;G.getScrollLeft=d;G.getScrollTop=a;G.getScrollHeight=l;G.getScrollWidth=u;G.getClientHeight=E;G.getClientWidth=M;G.getOffsetHeight=ad;G.getOffsetWidth=C;G.getClientXY=F;G.setClientXY=T;G.getXY=n;G.setXY=aa;G.getRelativeXY=s;G.getPosX=k;G.getPosY=h;G.getWidth=ab;G.getHeight=K;G.getSelection=A;G.getSelectionText=m;G.getTextFieldSelection=R;G.getDocumentElement=Z});Jx().$package(function(n){var l,h,a,e,j,m,k=[],b,q,p,d,c,f,o,g,i=this;n.event=n.event||{};l=n.event;g=function(y,u){if(!y){y=window.event}var u=u||y.srcElement;var w=document,z=w.documentElement,x=w.body;var s={_event:y,type:y.type,target:y.srcElement,currentTarget:u,relatedTarget:y.fromElement?y.fromElement:y.toElement,eventPhase:(y.srcElement==u)?2:3,clientX:y.clientX,clientY:y.clientY,screenX:y.screenX,screenY:y.screenY,layerX:y.offsetX,layerY:y.offsetY,pageX:y.clientX+(z&&z.scrollLeft||x&&x.scrollLeft||0)-(z&&z.clientLeft||x&&x.clientLeft||0),pageY:y.clientY+(z&&z.scrollTop||x&&x.scrollTop||0)-(z&&z.clientTop||x&&x.clientTop||0),wheelDelta:y.wheelDelta||-40*(y.detail||0),altKey:y.altKey,ctrlKey:y.ctrlKey,shiftKey:y.shiftKey,charCode:y.keyCode,keyCode:y.keyCode,stopPropagation:function(){this._event.cancelBubble=true},preventDefault:function(){this._event.returnValue=false}};var t=y.type.toLowerCase();if(t=="mouseover"){s.relatedTarget=y.fromElement}else{if(t=="mouseout"){s.relatedTarget=y.toElement}}if(!n.isUndefined(y.button)){var A=y.button;var r={0:-1,1:0,2:2,3:-1,4:1};if(!n.isUndefined(r[A])){s.button=r[A]}else{s.button=A}}return s};if(n.browser.ie){h=function(t,s,u,r){if(m["on"+s]){m["on"+s](t,s,u,r);return}a(t,s,u)};a=function(t,s,v){if(l._find(arguments)!=-1){return}var x=function(A){var w=g(A,t);if(Function.prototype.call){v.call(t,w)}else{t._currentHandler=v;t._currentHandler(w);t._currentHandler=null}};t.attachEvent("on"+s,x);var u={element:t,eventType:s,handler:v,wrappedEvent:x};var y=t.document||t;var r=y.parentWindow||window;var z=l._uid();if(!r._allHandlers){r._allHandlers={}}r._allHandlers[z]=u;if(!t._handlers){t._handlers=[]}t._handlers.push(z);if(!r._onunloadEventRegistered){r._onunloadEventRegistered=true;r.attachEvent("onunload",l._removeAllEvents)}};e=function(s,r,t){if(m["off"+r]){m["off"+r](s,r,t);return}if(arguments.length==3){j(s,r,t)}else{j(s,r)}};j=function(v,r,B){var t=l._find(arguments);if(t==-1){return}var z=v.document||v;var A=z.parentWindow||window;for(var u=0;u<t.length;u++){var x=t[u];var s=v._handlers[x];var y=A._allHandlers[s];v.detachEvent("on"+y.eventType,y.wrappedEvent);v._handlers[x]=null;v._handlers.splice(x,1);delete A._allHandlers[s]}if(v._handlers&&v._handlers.length==0){v._handlers=null}};l._find=function(A){var x=A[0],r=A[1],C=A[2],s=x._handlers;if(!s){return -1}var z=x.document||x;var B=z.parentWindow||window;var u=[];if(A.length===3){for(var v=s.length-1;v>=0;v--){var t=s[v];var y=B._allHandlers[t];if(y.eventType==r&&y.handler==C){u.push(v);return u}}}else{if(A.length===2){for(var v=s.length-1;v>=0;v--){var t=s[v];var y=B._allHandlers[t];if(y.eventType==r){u.push(v)}}if(u.length>0){return u}}else{if(A.length===1){for(var v=s.length-1;v>=0;v--){u.push(v)}if(u.length>0){return u}}}}return -1};l._removeAllEvents=function(){var t,r=this;for(t in r._allHandlers){var s=r._allHandlers[t];s.element.detachEvent("on"+s.eventType,s.wrappedEvent);s.element._handlers=null;delete r._allHandlers[t]}};l._counter=0;l._uid=function(){return"h"+l._counter++}}else{if(document.addEventListener){h=function(t,s,u,r){if(m["on"+s]){m["on"+s](t,s,u,r);return}a(t,s,u)};a=function(u,t,v){var w=false;if(!u){n.out("targetModel undefined:"+t+v)}if(!u._eventTypes){u._eventTypes={}}if(!u._eventTypes[t]){u._eventTypes[t]=[]}u.addEventListener(t,v,false);var r=u._eventTypes[t];for(var s=0;s<r.length;s++){if(r[s]==v){w=true;break}}if(!w){r.push(v)}};e=function(s,r,t){if(m["off"+r]){m["off"+r](s,r,t);return}if(arguments.length==3){j(s,r,t)}else{j(s,r)}};j=function(u,t,v){if(t){if(arguments.length==3){if(v){u.removeEventListener(t,v,false);if(u._eventTypes&&u._eventTypes[t]){var r=u._eventTypes[t];for(var s=0;s<r.length;s++){if(r[s]===v){r[s]=null;r.splice(s,1);break}}}}else{}}else{if(u._eventTypes&&u._eventTypes[t]){var r=u._eventTypes[t];for(var s=0;s<r.length;s++){u.removeEventListener(t,r[s],false)}u._eventTypes[t]=[]}}}else{if(u._eventTypes){var w=u._eventTypes;for(var x in w){var r=u._eventTypes[x];for(var s=0;s<r.length;s++){u.removeEventListener(x,r[s],false)}}w={}}}}}}m={ondrag:function(u,r,A){var y,x,z=false,t;var s=function(B){if(!n.browser.mobileSafari&&B.button!==0){return}var C;t=B;if(n.browser.mobileSafari){B.stopPropagation();C=B.touches[0];y=C.pageX;x=C.pageY}else{B.stopPropagation();B.preventDefault();y=B.clientX;x=B.clientY}z=false;if(n.browser.mobileSafari){l.addEventListener(document,"touchmove",w);l.addEventListener(u,"touchend",v)}else{l.addEventListener(document,"mousemove",w)}};var w=function(C){if(!n.browser.mobileSafari&&C.button!==0){return}var B,E,D;C.stopPropagation();if(n.browser.mobileSafari){D=C.changedTouches[0];B=D.pageX;E=D.pageY}else{B=C.clientX;E=C.clientY}if(Math.abs(y-B)+Math.abs(x-E)>2){if(n.browser.mobileSafari){l.removeEventListener(document,"touchmove",w);l.removeEventListener(u,"touchend",v)}else{l.removeEventListener(document,"mousemove",w)}if(!z){A.call(u,C);z=true}}else{}};var v=function(B){if(!n.browser.mobileSafari&&B.button!==0){return}if(n.browser.mobileSafari){l.removeEventListener(document,"touchmove",w);if(!z){}else{B.stopPropagation();B.preventDefault()}}else{l.removeEventListener(document,"mousemove",w);if(!z){}}};if(n.browser.mobileSafari){l.addEventListener(u,"touchstart",s)}else{l.addEventListener(u,"mousedown",s);l.addEventListener(u,"mouseup",v)}k.push({element:u,eventType:r,handler:A,actions:[s,v]})},offdrag:function(t,s,u){for(var r in k){if(k[r].handler==u&&k[r].element==t&&k[r].eventType==s){if(n.browser.mobileSafari){l.removeEventListener(t,"touchstart",k[r].actions[0]);l.removeEventListener(t,"touchend",k[r].actions[1])}else{l.removeEventListener(t,"mousedown",k[r].actions[0]);l.removeEventListener(t,"mouseup",k[r].actions[1])}k.splice(r,1);break}}},oncustomclick:function(v,r,F,G){var C,A,D=false,t=false,u=0,z,G=G?G:{},B=G.longtouchable,y=-1;var s=function(H){u=H.timeStamp;D=false;if(!n.browser.mobileSafari&&H.button!==0){return}var I;if(n.browser.mobileSafari){I=H.changedTouches[0];C=I.pageX;A=I.pageY}else{C=H.clientX;A=H.clientY}t=false;if(B){z=setTimeout(function(){if(D||t){return}var J=2000;if(n.browser.mobileSafari){l.removeEventListener(v,"touchmove",E);l.removeOriginalEventListener(v,"touchend",w)}else{l.removeEventListener(v,"mousemove",E);l.removeOriginalEventListener(v,"click",w)}F.call(v,H,J)},1000)}if(n.browser.mobileSafari){l.addEventListener(v,"touchmove",E);l.addOriginalEventListener(v,"touchend",w)}else{l.addEventListener(v,"mousemove",E);l.addOriginalEventListener(v,"click",w)}};var x=function(I){y=I.button;if(!n.browser.mobileSafari&&I.button!==0){return}if(n.browser.mobileSafari){var K=I.changedTouches[0];var H=K.pageX;var J=K.pageY}};var E=function(I){if(n.browser.mobileSafari){var K=I.changedTouches[0];var H=K.pageX;var J=K.pageY}else{var H=I.clientX;var J=I.clientY}D=Math.abs(C-H)+Math.abs(A-J)>1;if(D){clearTimeout(z);z=null;if(n.browser.mobileSafari){l.removeEventListener(v,"touchmove",E);l.removeOriginalEventListener(v,"touchend",w)}else{l.removeEventListener(v,"mousemove",E);l.removeOriginalEventListener(v,"click",w)}}};var w=function(J){clearTimeout(z);z=null;t=true;if(!n.browser.mobileSafari&&y!==0){return}var L;var I=0;if(n.browser.mobileSafari){L=J.changedTouches[0];var H=L.pageX;var K=L.pageY}else{var H=J.clientX;var K=J.clientY}if(Math.abs(C-H)+Math.abs(A-K)<1){D=false;F.call(v,J,I)}else{}};if(n.browser.mobileSafari){l.addEventListener(v,"touchstart",s)}else{l.addEventListener(v,"mousedown",s);l.addEventListener(v,"mouseup",x)}k.push({element:v,eventType:r,handler:F,actions:[s,E,x,w]})},offcustomclick:function(t,s,u){for(var r in k){if(k[r].handler==u&&k[r].element==t&&k[r].eventType==s){if(n.browser.mobileSafari){l.removeEventListener(t,"touchstart",k[r].actions[0]);l.removeEventListener(t,"touchmove",k[r].actions[1]);l.removeOriginalEventListener(t,"touchend",k[r].actions[3])}else{l.removeEventListener(t,"mousedown",k[r].actions[0]);l.removeEventListener(t,"mousemove",k[r].actions[1]);l.removeEventListener(t,"mouseup",k[r].actions[2]);l.removeOriginalEventListener(t,"click",k[r].actions[3])}k.splice(r,1);break}}},oncontextmenu:function(s,r,t){if(n.browser.ie==9){var u=function(w){var v=g(w,s);t.call(s,v)};s.attachEvent("oncontextmenu",u);k.push({element:s,eventType:r,handler:t,actions:[u]})}else{l.addOriginalEventListener(s,r,t)}},offcontextmenu:function(t,s,u){if(n.browser.ie==9){for(var r in k){if(k[r].handler==u&&k[r].element==t&&k[r].eventType==s){t.detachEvent("oncontextmenu",k[r].actions[0]);k.splice(r,1);break}}}else{l.removeOriginalEventListener(t,s,u)}},onmousewheel:function(s,r,t){if(n.browser.firefox){var u=function(w){var v=g(w,s);t.call(s,v)};l.addOriginalEventListener(s,"DOMMouseScroll",u);k.push({element:s,eventType:r,handler:t,actions:[u]})}else{l.addOriginalEventListener(s,"mousewheel",t)}},offmousewheel:function(t,s,u){if(n.browser.firefox){for(var r in k){if(k[r].handler==u&&k[r].element==t&&k[r].eventType==s){l.removeOriginalEventListener(t,"DOMMouseScroll",k[r].actions[0]);k.splice(r,1);break}}}else{l.removeOriginalEventListener(t,"mousewheel",u)}},onmouseenter:function(s,r,t){var u=function(x){var w=x.relatedTarget;if(!w){t.call(this,x)}else{if(this.compareDocumentPosition){var v=this.compareDocumentPosition(w);if(!(w==this||v==20||v==0)){t.call(this,x)}}else{if(!(w==this||this.contains(w))){t.call(this,x)}}}};l.addEventListener(s,"mouseover",u);k.push({element:s,eventType:r,handler:t,actions:[u]})},offmouseenter:function(t,s,u){for(var r in k){if(k[r].handler==u&&k[r].element==t&&k[r].eventType==s){l.removeEventListener(t,"mouseover",k[r].actions[0]);k.splice(r,1);break}}},onmouseleave:function(t,s,u){var r=function(x){var w=x.relatedTarget;if(!w){u.call(this,x)}else{if(this.compareDocumentPosition){var v=this.compareDocumentPosition(w);if(!(v==20||v==0)){u.call(this,x)}}else{if(!this.contains(w)){u.call(this,x)}}}};l.addEventListener(t,"mouseout",r);k.push({element:t,eventType:s,handler:u,actions:[r]})},offmouseleave:function(t,s,u){for(var r in k){if(k[r].handler==u&&k[r].element==t&&k[r].eventType==s){l.removeEventListener(t,"mouseout",k[r].actions[0]);k.splice(r,1);break}}}};b=function(r){if(b.done){return r()}if(b.timer){b.ready.push(r)}else{b.ready=[r];l.on(window,"load",q);b.timer=window.setInterval(q,300)}};q=function(){if(b.done){return true}if(document&&document.getElementsByTagName&&document.getElementById&&document.body){b.done=true;window.clearInterval(b.timer);b.timer=null;for(var r=0;r<b.ready.length;r++){b.ready[r]()}b.ready=null;return true}};p=function(){this.subscribers=[]};p.prototype.subscribe=function(r){var s=n.array.some(this.subscribers,function(t){return t===r});if(!s){this.subscribers.push(r)}return r};p.prototype.deliver=function(r){n.array.forEach(this.subscribers,function(s){s(r)})};p.prototype.unsubscribe=function(r){this.subscribers=n.array.filter(this.subscribers,function(s){return s!==r});return r};d=function(t,w,x){var s,y,u,v;if(x){w="on"+w;if(!!!t._$events){t._$events={}}if(!t._$events[w]){t._$events[w]=[]}else{if(t._$events[w].length==0){t._$events[w]=[]}}s=t._$events[w];y=s.length;u=-1;for(v=0;v<y;v++){var r=s[v];if(r==x){u=v;break}}if(u===-1){s.push(x)}}else{n.out(">>> 添加的观察者方法不存在："+t+w+x)}};c=function(v){var u=v.targetModel;var r=v.eventMapping;for(var s in r){d(u,s,r[s])}};f=function(t,v,w){var s,u;v="on"+v;var r=true;if(t._$events&&t._$events[v]){s=t._$events[v];if(s.length>0){for(u=0;u<s.length;u++){if(s[u].apply(t,[w])===false){r=false}}}}else{}return r};o=function(r,s,z){var w,v,x=false,u,t,y=r._$events;if(z){if(y){s="on"+s;u=y[s];if(u){t=u.length;for(w=0;w<t;w++){if(u[w]==z){u[w]=null;u.splice(w,1);x=true;break}}}}}else{if(s){if(y){s="on"+s;u=y[s];if(u){t=u.length;for(w=0;w<t;w++){u[w]=null}delete y[s];x=true}}}else{if(r){if(y){for(w in y){delete y[w]}delete r._$events;x=true}}}}return x};l.addEventListener=h;l.removeEventListener=e;l.addOriginalEventListener=a;l.removeOriginalEventListener=j;l.on=l.addEventListener;l.off=l.removeEventListener;l.onDomReady=b;l.Publish=p;l.addObserver=d;l.addObservers=c;l.notifyObservers=f;l.removeObserver=o});Jx().$package(function(a){var b;a.date=a.date||{};b=function(e,c){var f={"M+":e.getMonth()+1,"D+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};if(/(Y+)/.test(c)){c=c.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))}for(var d in f){if(new RegExp("("+d+")").test(c)){c=c.replace(RegExp.$1,RegExp.$1.length==1?f[d]:("00"+f[d]).substr((""+f[d]).length))}}return c};a.date.format=b});Jx().$package(function(a){var b;a.number=a.number||{};var b=function(h,m){var o=h?h.toString().split("."):["0"];var c=m?m.split("."):[""];var k="";var n=o[0];var d=c[0];var g=n.length-1;var p=false;for(var j=d.length-1;j>=0;j--){switch(d.substr(j,1)){case"":if(g>=0){k=n.substr(g--,1)+k}break;case"0":if(g>=0){k=n.substr(g--,1)+k}else{k="0"+k}break;case",":p=true;k=","+k;break}}if(g>=0){if(p){var e=n.length;for(;g>=0;g--){k=n.substr(g,1)+k;if(g>0&&((e-g)%3)==0){k=","+k}}}else{k=n.substr(0,g+1)+k}}k=k+".";n=o.length>1?o[1]:"";d=c.length>1?c[1]:"";g=0;for(var j=0;j<d.length;j++){switch(d.substr(j,1)){case"":if(g<n.length){k+=n.substr(g++,1)}break;case"0":if(g<n.length){k+=n.substr(g++,1)}else{k+="0"}break}}return k.replace(/^,+/,"").replace(/\.$/,"")};a.number.format=b});Jx().$package(function(J){var $=J.dom.id,$D=J.dom,$E=J.event,ajax,comet,load,loadCss,loadScript,formSend;if(typeof window.XMLHttpRequest==="undefined"){window.XMLHttpRequest=function(){return new window.ActiveXObject(navigator.userAgent.indexOf("MSIE 5")>=0?"Microsoft.XMLHTTP":"Msxml2.XMLHTTP")}}J.http=J.http||{};ajax=function(uri,options){var httpRequest,httpSuccess,timeout,isTimeout=false,isComplete=false;options={method:options.method||"GET",data:options.data||null,arguments:options.arguments||null,onSuccess:options.onSuccess||function(){},onError:options.onError||function(){},onComplete:options.onComplete||function(){},onTimeout:options.onTimeout||function(){},isAsync:options.isAsync||true,timeout:options.timeout?options.timeout:30000,contentType:options.contentType?options.contentType:"utf-8",type:options.type||"xml"};uri=uri||"";timeout=options.timeout;httpRequest=new window.XMLHttpRequest();httpRequest.open(options.method,uri,options.isAsync);httpRequest.setRequestHeader("Content-Type",options.contentType);httpSuccess=function(r){try{return(!r.status&&location.protocol=="file:")||(r.status>=200&&r.status<300)||(r.status==304)||(navigator.userAgent.indexOf("Safari")>-1&&typeof r.status=="undefined")}catch(e){}return false};httpRequest.onreadystatechange=function(){if(httpRequest.readyState==4){if(!isTimeout){var o={};o.responseText=httpRequest.responseText;o.responseXML=httpRequest.responseXML;o.data=options.data;o.status=httpRequest.status;o.uri=uri;o.arguments=options.arguments;if(httpSuccess(httpRequest)){if(options.type==="script"){eval.call(window,data)}options.onSuccess(o)}else{options.onError(o)}options.onComplete(o)}isComplete=true;httpRequest=null}};httpRequest.send(options.data);window.setTimeout(function(){var o;if(!isComplete){isTimeout=true;o={};o.uri=uri;o.arguments=options.arguments;options.onTimeout(o);options.onComplete(o)}},timeout);return httpRequest};comet=function(uri,options){uri=uri||"";options={method:options.method||"GET",data:options.data||null,arguments:options.arguments||null,callback:options.callback||function(){},onLoad:options.onLoad||function(){},contentType:options.contentType?options.contentType:"utf-8"};var connection;if(J.browser.ie){var htmlfile=new ActiveXObject("htmlfile");htmlfile.open();htmlfile.close();var iframediv=htmlfile.createElement("div");htmlfile.appendChild(iframediv);htmlfile.parentWindow._parent=self;iframediv.innerHTML='<iframe id="_cometIframe" src="'+uri+"?callback=window.parent._parent."+options.callback+'"></iframe>';connection=htmlfile.getElementById("_cometIframe")}else{connection=$D.node("iframe");connection.setAttribute("id","_cometIframe");connection.setAttribute("src",uri+"?callback=window.parent._parent."+options.callback);connection.style.position="absolute";connection.style.visibility="hidden";connection.style.left=connection.style.top="-999px";connection.style.width=connection.style.height="1px";document.body.appendChild(connection);self._parent=self}$E.on(connection,"load",options.onLoad);return connection};load=function(type,uri,options){var node,linkNode,scriptNode,id,head=document.getElementsByTagName("head")?document.getElementsByTagName("head")[0]:document.documentElement,timer,isTimeout=false,isComplete=false,options=options||{},isDefer=options.isDefer||false,query=options.query||null,arguments=options.arguments||null,onSuccess=options.onSuccess||function(){},onError=options.onError||function(){},onComplete=options.onComplete||function(){},purge,onTimeout=options.onTimeout||function(){},timeout=options.timeout,charset=options.charset?options.charset:"utf-8",win=options.win||window,o,getId;uri=uri||"";if(query!==null){uri=uri+"?"+query}getId=function(){return load.Id++};id=getId();purge=function(id){var el=$("jet_load_"+id);if(el){head.removeChild(el)}};linkNode=function(uri,win,charset){var c=charset||"utf-8";return $D.node("link",{id:"jet_load_"+id,type:"text/css",charset:c,rel:"stylesheet",href:uri},win)};scriptNode=function(uri,win,charset,isDefer){var c=charset||"utf-8";var node=$D.node("script",{id:"jet_load_"+id,type:"text/javascript",charset:c,src:uri},win);if(isDefer){node.setAttribute("defer","defer")}return node};if(type==="script"){node=options.node||scriptNode(uri,win,charset,isDefer)}else{if(type==="css"){node=options.node||linkNode(uri,win,charset)}}if(J.browser.engine.trident&&parseInt(J.browser.ie)<9){node.onreadystatechange=function(){var rs=this.readyState;if(rs==="loaded"||rs==="complete"){node.onreadystatechange=null;if(!isTimeout){isComplete=true;window.clearTimeout(timer);timer=null;o={};o.id=id;o.uri=uri;o.arguments=arguments;onSuccess(o);onComplete(o);if(type==="script"){}}}}}else{if(J.browser.engine.webkit){$E.on(node,"load",function(){var o;if(!isTimeout){isComplete=true;window.clearTimeout(timer);timer=null;o={};o.id=id;o.uri=uri;o.arguments=arguments;onSuccess(o);onComplete(o);if(type==="script"){purge(id)}}})}else{node.onload=function(){var o;if(!isTimeout){isComplete=true;window.clearTimeout(timer);timer=null;o={};o.id=id;o.uri=uri;o.arguments=options.arguments;onSuccess(o);onComplete(o);if(type==="script"){purge(id)}}};node.onerror=function(e){var o;if(!isTimeout){isComplete=true;window.clearTimeout(timer);timer=null;o={};o.id=id;o.uri=uri;o.arguments=arguments;o.error=e;onError(o);onComplete(o);purge(id)}}}}if(options.node){if(type==="script"){node.src=uri}else{if(type==="css"){node.href=uri}}}else{head.appendChild(node)}if(type==="script"){if(timeout){timer=window.setTimeout(function(){var o;if(!isComplete){isTimeout=true;o={};o.uri=uri;o.arguments=arguments;onTimeout(o);onComplete(o);purge(id)}},timeout)}}var func=function(node){this._node=node;this._head=head};func.prototype={abort:function(){this._node.src="";this._head.removeChild(this._node);delete this._node}};return new func(node)};load.Id=0;loadCss=function(uri,options){return load("css",uri,options)};loadScript=function(uri,options){return load("script",uri,options)};var divEl;var formSendIframePool={_iframes:[],_tick:0,_select:function(){this._tick++;return this._iframes[(this._tick-1)%this._len]},init:function(len){if(this._isInit==true){return}this._len=len;var bodyEl=document.body;for(var i=0;i<len;i++){divEl=$D.node("div",{"class":"RPCService_hDiv"});$D.hide(divEl);divEl.innerHTML='<iframe id="RPCService_hIframe_'+i+'" name="RPCService_hIframe_'+i+'" src="'+alloy.CONST.MAIN_URL+'domain.html"></iframe>';bodyEl.appendChild(divEl);this._iframes[i]=[divEl,null,"RPCService_hIframe_"+i]}this._isInit=true},take:function(formEl){var doms=this._select();if(doms[1]){doms[0].removeChild(doms[1])}formEl.setAttribute("target",doms[2]);doms[1]=formEl;doms[0].appendChild(formEl)}};formSend=function(url,option){formSendIframePool.init(2);var opt={method:option.method||"GET",enctype:option.enctype||"",data:option.data||{},onSuccess:option.onSuccess||function(){},onError:option.onError||function(){},onComplete:option.onComplete||function(){},onTimeout:option.onTimeout||function(){},timeout:option.timeout?option.timeout:10000};var formEl=$D.node("form",{"class":"RPCService_form",method:opt.method,action:url+"?t="+(new Date().getTime()),enctype:opt.enctype});if(Object.prototype.toString.call(opt.data).indexOf("String")>-1){var inputEl=$D.node("input");inputEl.type="text";inputEl.name=opt.data;formEl.appendChild(inputEl)}else{for(var p in opt.data){var inputEl=$D.node("input");inputEl.type="text";inputEl.name=p;inputEl.setAttribute("value",opt.data[p]);formEl.appendChild(inputEl)}}formSendIframePool.take(formEl);formEl.submit()};J.http.ajax=ajax;J.http.comet=comet;J.http.load=load;J.http.loadCss=loadCss;J.http.loadScript=loadScript;J.http.formSend=formSend});Jx().$package(function(f){f.array=f.array||{};var q=f.array,a,n,o,g,h,s,u,i,m,k,t,r,j,l,e,d,p,c,b;a=Array.prototype.indexOf?function(){var v=Array.prototype.slice.call(arguments,1);return Array.prototype.indexOf.apply(arguments[0],v)}:function(v,y,x){if(x==null){x=0}else{if(x<0){x=Math.max(0,v.length+x)}}for(var w=x;w<v.length;w++){if(v[w]===y){return w}}return -1};n=Array.prototype.lastIndexOf?function(){var v=Array.prototype.slice.call(arguments,1);return Array.prototype.lastIndexOf.apply(arguments[0],v)}:function(v,y,x){if(x==null){x=v.length-1}else{if(x<0){x=Math.max(0,v.length+x)}}for(var w=x;w>=0;w--){if(v[w]===y){return w}}return -1};o=Array.prototype.forEach?function(){var v=Array.prototype.slice.call(arguments,1);return Array.prototype.forEach.apply(arguments[0],v)}:function(w,x){var v=w.length;if(typeof x!="function"){throw new TypeError()}var z=arguments[2];for(var y=0;y<v;y++){if(y in w){x.call(z,w[y],y,w)}}};g=Array.prototype.filter?function(){var v=Array.prototype.slice.call(arguments,1);return Array.prototype.filter.apply(arguments[0],v)}:function(w,x){var v=w.length;if(typeof x!="function"){throw new TypeError()}var A=[];var z=arguments[2];for(var y=0;y<v;y++){if(y in w){var B=w[y];if(x.call(z,B,y,w)){A.push(B)}}}return A};h=Array.prototype.some?function(){var v=Array.prototype.slice.call(arguments,1);return Array.prototype.some.apply(arguments[0],v)}:function(w,x){var v=w.length;if(typeof x!="function"){throw new TypeError()}var z=arguments[2];for(var y=0;y<v;y++){if(y in w&&x.call(z,w[y],y,w)){return true}}return false};s=Array.prototype.map?function(){var v=Array.prototype.slice.call(arguments,1);return Array.prototype.map.apply(arguments[0],v)}:function(w,x){var v=w.length;if(typeof x!="function"){throw new TypeError()}var A=new Array(v);var z=arguments[2];for(var y=0;y<v;y++){if(y in w){A[y]=x.call(z,w[y],y,w)}}return A};u=Array.prototype.every?function(){var v=Array.prototype.slice.call(arguments,1);return Array.prototype.every.apply(arguments[0],v)}:function(w,x){var v=w.length;if(typeof x!="function"){throw new TypeError()}var z=arguments[2];for(var y=0;y<v;y++){if(y in w&&!x.call(z,w[y],y,w)){return false}}return true};i=Array.prototype.reduce?function(){var v=Array.prototype.slice.call(arguments,1);return Array.prototype.reduce.apply(arguments[0],v)}:function(w,x){var v=w.length>>>0;if(typeof x!="function"){throw new TypeError()}if(v==0&&arguments.length==2){throw new TypeError()}var y=0;if(arguments.length>=3){var z=arguments[2]}else{do{if(y in w){z=w[y++];break}if(++y>=v){throw new TypeError()}}while(true)}for(;y<v;y++){if(y in w){z=x.call(null,z,w[y],y,w)}}return z};m=Array.prototype.reduceRight?function(){var v=Array.prototype.slice.call(arguments,1);return Array.prototype.reduceRight.apply(arguments[0],v)}:function(w,x){var v=w.length>>>0;if(typeof x!="function"){throw new TypeError()}if(v==0&&arguments.length==2){throw new TypeError()}var y=v-1;if(arguments.length>=3){var z=arguments[2]}else{do{if(y in w){z=w[y--];break}if(--y<0){throw new TypeError()}}while(true)}for(;y>=0;y--){if(y in w){z=x.call(null,z,w[y],y,w)}}return z};k=function(w){var v=f.$typeof(w);return(v)?((v!="array"&&v!="arguments")?[w]:w):[]};t=function(v,x){var x=k(x),z,y,w=false;for(z=0;z<x.length;z++){for(y=0;y<v.length;y++){if(v[y]===x[z]){v.splice(y,1);w=true}}}return w};r=function(v,w,y){var x;for(x=0;x<v.length;ij++){if(v[x]===w){v[x]=y;return true}}return false};j=function(v,z){z=z||function(D,C){return D-C};var B=v.length;var x;var w;for(var A=0;A<B-1;A++){w=false;for(var y=B-1;y>A;y--){if(z(v[y],v[y-1])<0){w=true;x=v[y-1];v[y-1]=v[y];v[y]=x}}if(!w){break}}return v};l=function(v,x,y){var A=0;var w=v.length;var z=Math.floor(v.length/2);while(w!=z){if(y(x,v[z])>0){A=z+1}else{w=z}z=Math.floor((A+w)/2)}return z};e=function(v,w){return(a(v,w)>-1)};d=function(x){var w=[];for(var y=0,v=x.length;y<v;y++){if(!e(w,x[y])){w.push(x[y])}}return w};p=function(y,x){var w=[];for(var z=0,v=y.length;z<v;z++){if(e(x,y[z])){w.push(y[z])}}return w};c=function(y,x){var w=[];for(var z=0,v=y.length;z<v;z++){if(!e(x,y[z])){w.push(y[z])}}return w};b=function(w,v){return d(w.concat(v))};q.indexOf=a;q.lastIndexOf=n;q.forEach=o;q.filter=g;q.some=h;q.map=s;q.every=u;q.reduce=i;q.reduceRight=m;q.toArray=k;q.remove=t;q.replace=r;q.bubbleSort=j;q.binarySearch=l;q.contains=e;q.uniquelize=d;q.intersect=p;q.minus=c;q.union=b});Jx().$package(function(p){p.string=p.string||{};var z=p.string,j,k,d,A,s,w,n,E,b,H,v,i,D,l,r,c,X,P,S,B,L,I,K,R,T,u,g,C,h,U,M,f,G,O,x,Q,q,W,F,a,e,y,m,V,o;j=function(J){return(J+"")};var t={};k=function(Z,Y){var J=!/\W/.test(Z)?t[Z]=t[Z]||k(document.getElementById(Z).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+Z.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return Y?J(Y):J};d=function(J){return d.RE.test(J)};d.RE=/^(?:ht|f)tp(?:s)?\:\/\/(?:[\w\-\.]+)\.\w+/i;A=function(ac){var aa=null;if(null!==(aa=A.RE.exec(ac))){var Y={};for(var ab=0,Z=A.SPEC.length;ab<Z;ab++){var J=A.SPEC[ab];Y[J]=aa[ab+1]}aa=Y;Y=null}return aa};s=function(ad){var Z="";var ac={},ab={};for(var aa=0,Y=A.SPEC.length;aa<Y;aa++){var J=A.SPEC[aa];if(!ad[J]){continue}switch(J){case"scheme":ab[J]="://";break;case"pass":ac[J]=":";case"user":ac.host="@";break;case"port":ac[J]=":";break;case"query":ac[J]="?";break;case"fragment":ac[J]="#";break}if(J in ac){Z+=ac[J]}if(J in ad){Z+=ad[J]}if(J in ab){Z+=ab[J]}}ac=null;ab=null;ad=null;return Z};A.SPEC=["scheme","user","pass","host","port","path","query","fragment"];A.RE=/^([^:]+):\/\/(?:([^:@]+):?([^@]*)@)?(?:([^/?#:]+):?(\d*))([^?#]*)(?:\?([^#]+))?(?:#(.+))?$/;w=function(ab){var Z,Y,ac,ab=ab||window.location.href,J=ab.indexOf("?"),aa=ab.substring(J+1).split("&"),ae={};if(J===-1){return ae}for(Z=0;Z<aa.length;Z++){try{J=aa[Z].indexOf("=");Y=aa[Z].substring(0,J);ac=aa[Z].substring(J+1);if(!(ae[Y]=unescape(ac))){throw new Error("uri has wrong query string when run mapQuery.")}}catch(ad){}}return ae};n=function(J,Y,Z){return((typeof Y=="string")?new RegExp(Y,Z):Y).test(J)};E=function(J,Z,Y){return(Y)?(Y+J+Y).indexOf(Y+Z+Y)>-1:J.indexOf(Z)>-1};b=function(J){return String(J).replace(/^\s+|\s+$/g,"")};H=function(J){return b(J.replace(/\s+/g," "))};v=function(J){return J.replace(/-\D/g,function(Y){return Y.charAt(1).toUpperCase()})};i=function(J){return J.replace(/[A-Z]/g,function(Y){return("-"+Y.charAt(0).toLowerCase())})};D=function(J){return J.replace(/\b[a-z]/g,function(Y){return Y.toUpperCase()})};l=function(J){return J.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")};r=function(J,Y){return parseInt(J,Y||10)};c=function(J){return parseFloat(J)};X=function(J){return String(J).replace(/\r/gi,"").replace(/\n/gi,"")};P=function(J){return String(J).replace(/&/gi,"&amp;").replace(/\\/gi,"&#92;").replace(/\'/gi,"&#39;").replace(/\"/gi,"&quot;").replace(/</gi,"&lt;").replace(/>/gi,"&gt;").replace(/ /gi,"&nbsp;").replace(/\r\n/g,"<br />").replace(/\n\r/g,"<br />").replace(/\n/g,"<br />").replace(/\r/g,"<br />")};S=function(J){return String(J).replace(/\\/gi,"\\").replace(/\'/gi,"'").replace(/\"/gi,"'")};I=function(J,Z){var Y=J.match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/);return(Y)?Y.slice(1).hexToRgb(Z):null};K=function(Y,Z){var J=Y.match(/\d{1,3}/g);return(J)?J.rgbToHex(Z):null};R=function(Y,Z){var J="";var aa=Y.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,function(){J+=arguments[1]+"\n";return""});if(Z===true){$exec(J)}else{if($type(Z)=="function"){Z(J,aa)}}return aa};B=function(J,Y){return encodeURIComponent(String(J))+"="+encodeURIComponent(String(Y))};L=function(Z){var J=[];for(var Y in Z){J.push(B(Y,Z[Y]))}return J.join("&")};T=function(Y,J,Z){return Y.replace(Z||(/\\?\{([^{}]+)\}/g),function(ab,aa){if(ab.charAt(0)=="\\"){return ab.slice(1)}return(J[aa]!=undefined)?J[aa]:""})};u=function(aa,J,Z,Y){if(!RegExp.prototype.isPrototypeOf(J)){return aa.replace(new RegExp(J,(Y?"gi":"g")),Z)}else{return aa.replace(J,Z)}};g=function(J,Y){Y=Y||2;return J.replace(/[^\x00-\xff]/g,({2:"aa",3:"aaa"})[Y]).length};C=function(J,Y){return J.substring(0,(J.length-Y))};h=function(J,Z){var Y=J;while(g(Y)>Z){Y=C(Y,1)}return Y};U=function(J){if(J.search(/^\d+$/)!==-1){return true}else{return false}};M=function(J){if(J.search(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/)!==-1){return true}else{return false}};var f=function(J){J=J.replace(/&/g,"&amp;");J=J.replace(/>/g,"&gt;");J=J.replace(/</g,"&lt;");J=J.replace(/"/g,"&quot;");J=J.replace(/'/g,"&#39;");return J};var G=function(J){J=J.replace(/&amp;/g,"&");J=J.replace(/&gt;/g,">");J=J.replace(/&lt;/g,"<");J=J.replace(/&quot;/g,'"');J=J.replace(/&#39;/g,"'");return J};var O=function(J){J=J.replace(/&amp;/g,"&");J=J.replace(/&gt;/g,">");J=J.replace(/&lt;/g,"<");J=J.replace(/\\\\"/g,'"');J=J.replace(/\\\\'/g,"'");return J};var x=function(J){J=J.replace(/&/g,"&amp;");J=J.replace(/>/g,"&gt;");J=J.replace(/</g,"&lt;");J=J.replace(/"/g,"&quot;");J=J.replace(/'/g,"&#39;");J=J.replace(/=/g,"&#61;");J=J.replace(/`/g,"&#96;");return J};var q=function(J){return J.replace(/[&'"<>\/\\\-\x00-\x09\x0b-\x0c\x1f\x80-\xff]/g,function(Y){return"&#"+Y.charCodeAt(0)+";"}).replace(/ /g,"&nbsp;").replace(/\r\n/g,"<br />").replace(/\n/g,"<br />").replace(/\r/g,"<br />")};var Q=function(J){return J.replace(/[&'"<>\/\\\-\x00-\x1f\x80-\xff]/g,function(Y){return"&#"+Y.charCodeAt(0)+";"})};var W=function(J){J+="";return J.replace(/[\\"']/g,function(Y){return"\\"+Y}).replace(/%/g,"\\x25").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\x01/g,"\\x01")};var F=function(J){return q(e(escScript(J)))};var a=function(J){return J.replace(/[\\\^\$\*\+\?\{\}\.\(\)\[\]]/g,function(Z,Y){return"\\"+Z})};var e=function(J){return escape(J).replace(/\+/g,"%2B")};var y=function(J){J=encodeURIComponent(J);J=J.replace(/~/g,"%7E");J=J.replace(/!/g,"%21");J=J.replace(/\*/g,"%2A");J=J.replace(/\(/g,"%28");J=J.replace(/\)/g,"%29");J=J.replace(/'/g,"%27");J=J.replace(/\?/g,"%3F");J=J.replace(/;/g,"%3B");return J};var m=function(J){return(/^(https?:\/\/)?[\w\-.]+\.(qq|paipai|soso|taotao)\.com($|\/|\\)/i).test(J)||(/^[\w][\w\/\.\-_%]+$/i).test(J)||(/^[\/\\][^\/\\]/i).test(J)?true:false};var V=function(Y){var Y=encodeURI(Y).replace(/(^\s*)|(\s*$)/g,""),J=/(^[a-zA-Z0-9]+[^.]):/,ac=/^[\S.]+\.[\S.]+$/,ab=/[\w.]+\/(\S*)/,aa=/;$/,Z=/^[\s*]*javascript[\s*]*:/;if((!J.test(Y))&&(!ac.test(Y))){Y=""}else{if(!J.test(Y)){Y="http://"+Y}if(!ab.test(Y)){Y=Y+"/"}if(Z.test(Y)){Y=""}}return Y};var o=function(Z,aa){var Y=document.createElement("div");Y.style.visibility="hidden";Y.style.width="auto";if(aa){Y.style.fontSize=aa+"px"}Y.style.position="absolute";Y.innerHTML=p.string.encodeHtmlSimple(Z);document.body.appendChild(Y);var J=Y.offsetWidth;document.body.removeChild(Y);return J};var N=function(Z,aa,Y){for(var J=Z.length;J>=0;--J){Z=Z.substring(0,J);if(o(Z,aa)<Y){return Z}}return""};z.cutByWidth=N;z.toString=j;z.template=k;z.isURL=d;z.parseURL=A;z.buildURL=s;z.mapQuery=w;z.test=n;z.contains=E;z.trim=b;z.clean=H;z.camelCase=v;z.hyphenate=i;z.capitalize=D;z.escapeRegExp=l;z.toInt=r;z.toFloat=c;z.toSingleLine=X;z.toHtml=P;z.toTitle=S;z.toQueryPair=B;z.toQueryString=L;z.hexToRgb=I;z.rgbToHex=K;z.stripScripts=R;z.substitute=T;z.replaceAll=u;z.byteLength=g;z.cutRight=C;z.isNumber=U;z.isEmail=M;z.cutByBytes=h;z.encodeHtmlSimple=f;z.decodeHtmlSimple=G;z.decodeHtmlSimple2=O;z.encodeHtmlAttributeSimple=x;z.encodeHtmlAttribute=Q;z.encodeHtml=q;z.encodeScript=W;z.encodeHrefScript=F;z.encodeRegExp=a;z.encodeUrl=e;z.encodeUriComponent=y;z.vaildTencentUrl=m;z.vaildUrl=V;z.getCharWidth=o});Jx().$package(function(a){var b=(function(){var d=/(?:[\w\-\\.#]+)+(?:\[\w+?=([\'"])?(?:\\\1|.)+?\1\])?|\*|>/ig,i=/^(?:[\w\-_]+)?\.([\w\-_]+)/,h=/^(?:[\w\-_]+)?#([\w\-_]+)/,l=/^([\w\*\-_]+)/,j=[null,null];function f(q,o){o=o||document;var m=/^[\w\-_#]+$/.test(q);if(!m&&o.querySelectorAll){return e(o.querySelectorAll(q))}if(q.indexOf(",")>-1){var x=q.split(/,/g),v=[],u=0,t=x.length;for(;u<t;++u){v=v.concat(f(x[u],o))}return g(v)}var r=q.match(d),p=r.pop(),n=(p.match(h)||j)[1],w=!n&&(p.match(i)||j)[1],y=!n&&(p.match(l)||j)[1],s;if(w&&!y&&o.getElementsByClassName){s=e(o.getElementsByClassName(w))}else{s=!n&&e(o.getElementsByTagName(y||"*"));if(w){s=k(s,"className",RegExp("(^|\\s)"+w+"(\\s|$)"))}if(n){var z=o.getElementById(n);return z?[z]:[]}}return r[0]&&s[0]?c(r,s):s}function e(q){try{return Array.prototype.slice.call(q)}catch(p){var n=[],o=0,m=q.length;for(;o<m;++o){n[o]=q[o]}return n}}function c(y,s,p){var t=y.pop();if(t===">"){return c(y,s,true)}var u=[],m=-1,n=(t.match(h)||j)[1],v=!n&&(t.match(i)||j)[1],x=!n&&(t.match(l)||j)[1],w=-1,o,z,q;x=x&&x.toLowerCase();while((o=s[++w])){z=o.parentNode;do{q=!x||x==="*"||x===z.nodeName.toLowerCase();q=q&&(!n||z.id===n);q=q&&(!v||RegExp("(^|\\s)"+v+"(\\s|$)").test(z.className));if(p||q){break}}while((z=z.parentNode));if(q){u[++m]=o}}return y[0]&&u[0]?c(y,u):u}var g=(function(){var m=+new Date();var n=(function(){var o=1;return function(r){var q=r[m],p=o++;if(!q){r[m]=p;return true}return false}})();return function(o){var u=o.length,p=[],t=-1,q=0,s;for(;q<u;++q){s=o[q];if(n(s)){p[++t]=s}}m+=1;return p}})();function k(t,m,s){var o=-1,q,p=-1,n=[];while((q=t[++o])){if(s.test(q[m])){n[++p]=q}}return n}return f})();a.dom.mini=b});Jx().$package(function(J){var JSON={};"use strict";(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"&&false){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());J.json=JSON});Jx().$package(function(a){var b=window.location.host;a.cookie={set:function(f,h,g,i,c){if(c){var e=new Date();var d=new Date();d.setTime(e.getTime()+3600000*c)}window.document.cookie=f+"="+h+"; "+(c?("expires="+d.toGMTString()+"; "):"")+(i?("path="+i+"; "):"path=/; ")+(g?("domain="+g+";"):("domain="+b+";"));return true},get:function(d){var e=new RegExp("(?:^|;+|\\s+)"+d+"=([^;]*)");var c=window.document.cookie.match(e);return(!c?"":c[1])},remove:function(c,d,e){window.document.cookie=c+"=; expires=Mon, 26 Jul 1997 05:00:00 GMT; "+(e?("path="+e+"; "):"path=/; ")+(d?("domain="+d+";"):("domain="+b+";"))}}});Jx().$package(function(a){a.localStorage={setItem:function(b,c){if(this.isSupports()){window.localStorage.setItem(b,c)}},getItem:function(b){if(this.isSupports()){return window.localStorage.getItem(b)}return null},removeItem:function(b){if(this.isSupports()){window.localStorage.removeItem(b)}},clear:function(){if(this.isSupports()){window.localStorage.clear()}},isSupports:function(){return("localStorage" in window)&&window.localStorage!==null}}});